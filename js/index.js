 var Data = [
                {
                    "name": "never alta n2",
                    "WeeklyData": [
                        { "hour": "00:00", "value": 78 },
                        { "hour": "01:00", "value": 49 },
                        { "hour": "02:00", "value": 46 },
                        { "hour": "03:00", "value": 46 },
                        { "hour": "04:00", "value": 45 },
                        { "hour": "05:00", "value": 44 },
                        { "hour": "06:00", "value": 44 },
                        { "hour": "07:00", "value": 44 },
                        { "hour": "08:00", "value": 48 },
                        { "hour": "09:00", "value": 50 },
                        { "hour": "10:00", "value": 50 },
                        { "hour": "11:00", "value": 52 },
                        { "hour": "12:00", "value": 52 },
                        { "hour": "13:00", "value": 47 },
                        { "hour": "14:00", "value": 45 },
                        { "hour": "15:00", "value": 42 },
                        { "hour": "16:00", "value": 54 },
                        { "hour": "17:00", "value": 64 },
                        { "hour": "18:00", "value": 43 },
                        { "hour": "19:00", "value": 42 },
                        { "hour": "20:00", "value": 41 },
                        { "hour": "21:00", "value": 60 },
                        { "hour": "22:00", "value": 59 },
                        { "hour": "23:00", "value": 42 }
                    ]
                },
                {
                    "name": "nevera alta n1",
                    "WeeklyData": [
                        { "hour": "00:00", "value": 98 },
                        { "hour": "01:00", "value": 96 },
                        { "hour": "02:00", "value": 97 },
                        { "hour": "03:00", "value": 97 },
                        { "hour": "04:00", "value": 96 },
                        { "hour": "05:00", "value": 95 },
                        { "hour": "06:00", "value": 95 },
                        { "hour": "07:00", "value": 51 },
                        { "hour": "08:00", "value": 0 },
                        { "hour": "09:00", "value": 65 },
                        { "hour": "10:00", "value": 97 },
                        { "hour": "11:00", "value": 102 },
                        { "hour": "12:00", "value": 102 },
                        { "hour": "13:00", "value": 124 },
                        { "hour": "14:00", "value": 94 },
                        { "hour": "15:00", "value": 114 },
                        { "hour": "16:00", "value": 98 },
                        { "hour": "17:00", "value": 105 },
                        { "hour": "18:00", "value": 118 },
                        { "hour": "19:00", "value": 90 },
                        { "hour": "20:00", "value": 110 },
                        { "hour": "21:00", "value": 112},
                        { "hour": "22:00", "value": 89 },
                        { "hour": "23:00", "value": 102 }
                    ]
                },
                {
                    "name": "arcon n4",
                    "WeeklyData": [
                      { "hour": "00:00", "value": 0 },
                      { "hour": "01:00", "value": 0 },
                      { "hour": "02:00", "value": 0 },
                      { "hour": "03:00", "value": 0 },
                      { "hour": "04:00", "value": 0 },
                      { "hour": "05:00", "value": 0 },
                      { "hour": "06:00", "value": 0 },
                      { "hour": "07:00", "value": 17 },
                      { "hour": "08:00", "value": 29 },
                      { "hour": "09:00", "value": 28 },
                      { "hour": "10:00", "value": 28 },
                      { "hour": "11:00", "value": 28 },
                      { "hour": "12:00", "value": 28 },
                      { "hour": "13:00", "value": 28 },
                      { "hour": "14:00", "value": 28 },
                      { "hour": "15:00", "value": 29 },
                      { "hour": "16:00", "value": 27 },
                      { "hour": "17:00", "value": 28 },
                      { "hour": "18:00", "value": 28 },
                      { "hour": "19:00", "value": 28 },
                      { "hour": "20:00", "value": 29 },
                      { "hour": "21:00", "value": 27},
                      { "hour": "22:00", "value": 12 },
                      { "hour": "23:00", "value": 0 }
                    ]
                },
                {
                    "name": "arcon n2 final pasillo",
                    "WeeklyData": [
                      { "hour": "00:00", "value": 127 },
                      { "hour": "01:00", "value": 107 },
                      { "hour": "02:00", "value": 108 },
                      { "hour": "03:00", "value": 106 },
                      { "hour": "04:00", "value": 115 },
                      { "hour": "05:00", "value": 167 },
                      { "hour": "06:00", "value": 112 },
                      { "hour": "07:00", "value": 92 },
                      { "hour": "08:00", "value": 163 },
                      { "hour": "09:00", "value": 128 },
                      { "hour": "10:00", "value": 110 },
                      { "hour": "11:00", "value": 141 },
                      { "hour": "12:00", "value": 135 },
                      { "hour": "13:00", "value": 169 },
                      { "hour": "14:00", "value": 134 },
                      { "hour": "15:00", "value": 174 },
                      { "hour": "16:00", "value": 171 },
                      { "hour": "17:00", "value": 167 },
                      { "hour": "18:00", "value": 119 },
                      { "hour": "19:00", "value": 155 },
                      { "hour": "20:00", "value": 119 },
                      { "hour": "21:00", "value": 147},
                      { "hour": "22:00", "value": 118 },
                      { "hour": "23:00", "value": 107 }
                    ]
                },
                {
                    "name": "arcon n1 final pasillo",
                    "WeeklyData": [
                      { "hour": "00:00", "value": 80 },
                      { "hour": "01:00", "value": 91 },
                      { "hour": "02:00", "value": 99 },
                      { "hour": "03:00", "value": 97 },
                      { "hour": "04:00", "value": 85 },
                      { "hour": "05:00", "value": 83 },
                      { "hour": "06:00", "value": 129 },
                      { "hour": "07:00", "value": 128 },
                      { "hour": "08:00", "value": 125 },
                      { "hour": "09:00", "value": 98 },
                      { "hour": "10:00", "value": 115 },
                      { "hour": "11:00", "value": 127 },
                      { "hour": "12:00", "value": 126 },
                      { "hour": "13:00", "value": 85 },
                      { "hour": "14:00", "value": 134 },
                      { "hour": "15:00", "value": 134 },
                      { "hour": "16:00", "value": 130 },
                      { "hour": "17:00", "value": 128 },
                      { "hour": "18:00", "value": 127 },
                      { "hour": "19:00", "value": 126 },
                      { "hour": "20:00", "value": 85 },
                      { "hour": "21:00", "value": 96},
                      { "hour": "22:00", "value": 114 },
                      { "hour": "23:00", "value": 83 }
                    ]
                },
                {
                    "name": "arcon n3 pasillo",
                    "WeeklyData": [
                      { "hour": "00:00", "value": 124 },
                      { "hour": "01:00", "value": 124 },
                      { "hour": "02:00", "value": 125 },
                      { "hour": "03:00", "value": 124 },
                      { "hour": "04:00", "value": 125 },
                      { "hour": "05:00", "value": 124},
                      { "hour": "06:00", "value": 124 },
                      { "hour": "07:00", "value": 125 },
                      { "hour": "08:00", "value": 124 },
                      { "hour": "09:00", "value": 125},
                      { "hour": "10:00", "value": 132 },
                      { "hour": "11:00", "value": 126 },
                      { "hour": "12:00", "value": 125 },
                      { "hour": "13:00", "value": 166},
                      { "hour": "14:00", "value": 127 },
                      { "hour": "15:00", "value": 163 },
                      { "hour": "16:00", "value": 128 },
                      { "hour": "17:00", "value": 128 },
                      { "hour": "18:00", "value": 169 },
                      { "hour": "19:00", "value": 124 },
                      { "hour": "20:00", "value": 160},
                      { "hour": "21:00", "value": 134},
                      { "hour": "22:00", "value": 126 },
                      { "hour": "23:00", "value": 125 }

                    ]
                }
            ];

        function fnDrawMultiLineChart(Data, DivID, RevenueName) {
            var margin = { top: 20, right: 80, bottom: 30, left: 50 },
             width = 900 - margin.left - margin.right,
             height = 400 - margin.top - margin.bottom;

            var parseDate = d3.time.format("%d-%b");

            var x = d3.scale.ordinal()
                    .rangeRoundBands([0, width]);

            var y = d3.scale.linear()
                    .range([height, 0]);

            var color = d3.scale.category10();

            var xAxis = d3.svg.axis()
                .scale(x)
                .orient("bottom");

            var yAxis = d3.svg.axis()
                .scale(y)
                .orient("left")
                .ticks(10);

            // xData gives an array of distinct 'Weeks' for which trends chart is going to be made.
            var xData = Data[0].WeeklyData.map(function (d) { return (d.hour); });
            //console.log(xData);

            var line = d3.svg.line()
                //.interpolate("basis")
                .x(function (d) { return x(d.hour); })
                .y(function (d) { return y(d.value); });

            var svg = d3.select("#" + DivID).append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom)
                .append("g")
                .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

            color.domain(Data.map(function (d) { return d.name; }));

            x.domain(xData);

            var valueMax = d3.max(Data, function (r) { return d3.max(r.WeeklyData, function (d) { return d.value; }) });
            var valueMin = d3.min(Data, function (r) { return d3.min(r.WeeklyData, function (d) { return d.value; }) });
            y.domain([valueMin, valueMax]);

            //Drawing X Axis
            svg.append("g")
                    .attr("class", "x axis")
                    .attr("transform", "translate(0," + height + ")")
                    .call(xAxis);

            // Drawing Horizontal grid lines.
            svg.append("g")
                .attr("class", "GridX")
              .selectAll("line.grid").data(y.ticks()).enter()
                .append("line")
                .attr(
                {
                    "class": "grid",
                    "x1": x(xData[0]),
                    "x2": x(xData[xData.length - 1]) ,
                    "y1": function (d) { return y(d); },
                    "y2": function (d) { return y(d); }
                });
            // Drawing Y Axis
            svg.append("g")
                .attr("class", "y axis")
                .call(yAxis)
                .append("text")
                    .attr("transform", "rotate(-90)")
                    .attr("y", 20)
                    .attr("dy", ".91em")
                    .style("text-anchor", "end")
                    .text(RevenueName);

            // Drawing Lines for each segments
            var segment = svg.selectAll(".segment")
                            .data(Data)
                            .enter().append("g")
                            .attr("class", "segment");

            segment.append("path")
                    .attr("class", "line")
                    .attr("id", function (d) { return d.name; })
                    .attr("visible",1)
                    .attr("d", function (d) { return line(d.WeeklyData); })
                    .style("stroke", function (d) { return color(d.name); });
                        // Creating Dots on line
            segment.selectAll("dot")
                    .data(function (d) { return d.WeeklyData; })
                    .enter().append("circle")
                    .attr("r", 5)
                    .attr("cx", function (d) { return x(d.hour); })
                    .attr("cy", function (d) { return y(d.value); })
                    .style("stroke", "white")
                    .style("fill", function (d) { return color(this.parentNode.__data__.name); })
                    .on("mouseover", mouseover)
                    .on("mousemove", function (d) {
                        divToolTip
                        .text(this.parentNode.__data__.name +" : "+ d.value)
                        .style("left", (d3.event.pageX + 15) + "px")
                        .style("top", (d3.event.pageY - 10) + "px");
                    })
                    .on("mouseout", mouseout);

            segment.append("text")
                    .datum(function (d) { return { name: d.name, RevData: d.WeeklyData[d.WeeklyData.length - 1] }; })
                    .attr("transform", function (d) {
                        var xpos = x(d.RevData.hour);
                        return "translate(" + xpos + "," + y(d.RevData.value) + ")";
                    })
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("class", "segmentText")
                    .style('fill','#aaa')
                    .attr("Segid", function (d) { return d.name; })
                    .text(function (d) { return d.name; });

             // Adding Tooltip
            var divToolTip = d3.select("body").append("div")
                        .attr("class", "tooltip")
                        .style("opacity", 1e-6);

            function mouseover() {
                divToolTip.transition()
                    .duration(500)
                    .style("opacity", 1);
            }
            function mouseout() {
                divToolTip.transition()
                    .duration(500)
                    .style("opacity", 1e-6);
            }
        }
// Calling function
fnDrawMultiLineChart(Data, "divChartTrends", "Wh");
